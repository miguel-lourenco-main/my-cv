@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

/* Light theme (default) */
:root {
  --background: 0 0% 100%;
  --foreground: 0 0% 9%;
  --card: 0 0% 100%;
  --card-foreground: 0 0% 9%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 9%;
  --primary: 0 0% 9%;
  --primary-foreground: 0 0% 98%;
  --secondary: 0 0% 96%;
  --secondary-foreground: 0 0% 9%;
  --muted: 0 0% 96%;
  --muted-foreground: 0 0% 45%;
  --accent: 0 0% 96%;
  --accent-foreground: 0 0% 9%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 98%;
  --border: 0 0% 90%;
  --input: 0 0% 90%;
  --ring: 0 0% 9%;
  --radius: 0.5rem;
}

/* Dark theme */
.dark {
  --background: 0 0% 9%;
  --foreground: 0 0% 98%;
  --card: 0 0% 9%;
  --card-foreground: 0 0% 98%;
  --popover: 0 0% 9%;
  --popover-foreground: 0 0% 98%;
  --primary: 0 0% 98%;
  --primary-foreground: 0 0% 9%;
  --secondary: 0 0% 15%;
  --secondary-foreground: 0 0% 98%;
  --muted: 0 0% 15%;
  --muted-foreground: 0 0% 64%;
  --accent: 0 0% 15%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62% 30%;
  --destructive-foreground: 0 0% 98%;
  --border: 0 0% 15%;
  --input: 0 0% 15%;
  --ring: 0 0% 83%;
}

html {
  scroll-behavior: smooth;
}

/* 3D perspective and halo animations */
.perspective-900 {
  perspective: 900px;
}

.preserve-3d {
  transform-style: preserve-3d;
}

.icon-halo img, .icon-halo svg {
  filter: drop-shadow(0 2px 6px rgba(0,0,0,0.18));
}

@keyframes halo-enter {
  0% {
    opacity: 0;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) translate3d(0, 0, 0) scale(0.9) rotateX(0) rotateY(0);
  }
  100% {
    opacity: 1;
    left: var(--left, 50%);
    top: var(--top, 50%);
    transform: translate(-50%, -50%) translate3d(0, 0, var(--z,0)) rotateX(var(--rx,0)) rotateY(var(--ry,0));
  }
}

@keyframes halo-float {
  0% {
    transform: translate(-50%, -50%) translate3d(0, 0, calc(var(--z,0) - 4px)) rotateX(calc(var(--rx,0) - 2deg)) rotateY(calc(var(--ry,0) + 2deg));
  }
  50% {
    transform: translate(-50%, -50%) translate3d(0, 0, calc(var(--z,0) + 4px)) rotateX(calc(var(--rx,0) + 2deg)) rotateY(calc(var(--ry,0) - 2deg));
  }
  100% {
    transform: translate(-50%, -50%) translate3d(0, 0, calc(var(--z,0) - 4px)) rotateX(calc(var(--rx,0) - 2deg)) rotateY(calc(var(--ry,0) + 2deg));
  }
}

@media (hover: hover) and (pointer: fine) {
  .icon-halo__icon {
    transition: transform 500ms cubic-bezier(0.22, 1, 0.36, 1), opacity 400ms ease;
    will-change: transform;
  }

  .icon-halo:hover .icon-halo__icon {
    --z: calc(var(--z, 0) + 18px);
    --rx: calc(var(--rx, 0) * 1.05);
    --ry: calc(var(--ry, 0) * 1.05);
  }
}

@media (prefers-reduced-motion: reduce) {
  .icon-halo__icon {
    animation: none !important;
  }
}

* {
  cursor: none !important;
}

/* Optimized rocket cursor animations that sync with browser refresh rate */
.rocket-thruster-1 {
  animation: thruster1 0.33s ease-in-out infinite;
  transform-origin: bottom;
}

.rocket-thruster-2 {
  animation: thruster2 0.27s ease-in-out infinite;
  transform-origin: bottom;
}

.rocket-thruster-3 {
  animation: thruster3 0.39s ease-in-out infinite;
  transform-origin: bottom;
}

@keyframes thruster1 {
  0%, 100% { 
    transform: scaleY(1); 
    opacity: 0.6; 
  }
  50% { 
    transform: scaleY(1.67); 
    opacity: 1; 
  }
}

@keyframes thruster2 {
  0%, 100% { 
    transform: scaleY(1); 
    opacity: 0.6; 
  }
  50% { 
    transform: scaleY(1.58); 
    opacity: 1; 
  }
}

@keyframes thruster3 {
  0%, 100% { 
    transform: scaleY(1); 
    opacity: 0.6; 
  }
  50% { 
    transform: scaleY(1.67); 
    opacity: 1; 
  }
}

/* Navigation width animations */
@keyframes nav-expand {
  from { max-width: 1100px; }
  to { max-width: 100vw; }
}

@keyframes nav-collapse {
  from { max-width: 100vw; }
  to { max-width: 1100px; }
}

.nav-anim-expand {
  animation: nav-expand 300ms cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

.nav-anim-collapse {
  animation: nav-collapse 300ms cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Transform-only scale animations for smooth GPU-driven nav transitions */
@keyframes nav-scale-in {
  from { transform: scale(0.985); }
  to { transform: scale(1); }
}

@keyframes nav-scale-out {
  from { transform: scale(1); }
  to { transform: scale(0.985); }
}

.nav-scale-in {
  animation: nav-scale-in 220ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

.nav-scale-out {
  animation: nav-scale-out 220ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

/* Phone scroll-based card effects */
.phone-active .mt-6 {
  transform: scale(1.1) !important;
}

.phone-active [data-icon-item="true"] {
  transform: translateY(calc(var(--dist-ratio, 0) * 8px)) !important;
}